{
    "nodes": [
      {
        "id": "client-greeting-001",
        "data": {
          "name": "Client Greeting",
          "prompt": "### # Background\nthis is a warm, friendly call to a homeowner who set a target refinance rate with their mortgage broker. they've been waiting for rates to drop, and now they finally have. this is good news for them - potential savings on their monthly mortgage payment. however, they might not be expecting this call, so we need to be warm and conversational, not pushy or sales-y. the client might be busy, so we need to ask permission before launching into details.\n\n### # Goal\ngreet the client warmly, mention it's from their broker's office, hint at good news, ask if they have a minute, and extract their response about availability.\n\n### # Tone\nwarm and friendly, like calling a neighbor with good news. be natural and conversational. use their first name. smile when you talk - they can hear it in your voice. keep it brief but enthusiastic.",
          "isStart": true,
          "extractVars": [
            [
              "client_availability",
              "string",
              "Whether client is available to talk now",
              false
            ]
          ],
          "pathwayExamples": [],
          "dialogueExamples": [],
          "conditionExamples": []
        },
        "type": "Default",
        "position": {
          "x": 940,
          "y": 100
        }
      },
      {
        "id": "availability-router-001",
        "data": {
          "name": "Availability Router"
        },
        "type": "Route",
        "position": {
          "x": 940,
          "y": 350
        }
      },
      {
        "id": "share-good-news",
        "data": {
          "name": "Share Good News",
          "prompt": "### # Background\nthe client has said they have time to talk, so now we can share the good news. they set a target rate with their broker, and that rate has finally been hit. this is exciting for them - it means potential savings. we need to remind them of the context (their target rate) and then deliver the good news clearly. after sharing the details, we'll gauge their interest.\n\n### # Goal\nremind them of their target rate, announce it's been hit, share the savings numbers, ask if they want their broker to call them, and extract their response.\n\n### # Tone\nenthusiastic but natural. this is genuinely good news, so let that come through. don't be overly dramatic, just warm and positive.",
          "extractVars": [
            [
              "client_interest",
              "string",
              "Client's level of interest in proceeding",
              false
            ]
          ],
          "pathwayExamples": [],
          "dialogueExamples": [],
          "conditionExamples": []
        },
        "type": "Default",
        "position": {
          "x": 650,
          "y": 600
        }
      },
      {
        "id": "callback-requested",
        "data": {
          "name": "Schedule Callback",
          "prompt": "### # Background\nthe client indicated they're busy right now and can't talk. this is completely normal and we need to respect that. instead of pushing forward, we'll ask when would be a better time to call them back.\n\n### # Goal\nask when would be better and confirm we'll call back then.\n\n### # Tone\naccommodating and flexible. make them feel like their schedule matters to us.",
          "extractVars": [
            [
              "callback_time",
              "string",
              "When to call back",
              false
            ]
          ],
          "pathwayExamples": [],
          "dialogueExamples": [],
          "conditionExamples": []
        },
        "type": "Default",
        "position": {
          "x": 1250,
          "y": 600
        }
      },
      {
        "id": "interest-router-001",
        "data": {
          "name": "Interest Router"
        },
        "type": "Route",
        "position": {
          "x": 650,
          "y": 850
        }
      },
      {
        "id": "client-interested",
        "data": {
          "name": "Client Interested",
          "prompt": "### # Background\nthe client has expressed interest in moving forward! this is the best outcome. they want to talk to their broker and potentially start the refinance process. we need to confirm that the broker will call them today and wrap up the conversation positively.\n\n### # Goal\nconfirm the broker will call today and end the conversation on a high note.\n\n### # Tone\nenthusiastic and positive. celebrate this with them. make them feel good about their decision.",
          "pathwayExamples": [],
          "dialogueExamples": [],
          "conditionExamples": []
        },
        "type": "Default",
        "position": {
          "x": 200,
          "y": 1100
        }
      },
      {
        "id": "client-not-interested",
        "data": {
          "name": "Not Interested",
          "prompt": "### # Background\nthe client has indicated they're not interested in moving forward. this could be for many reasons - timing isn't right, they're happy with their current rate, or they've decided not to refinance. whatever the reason, we need to respect their decision without pushing back or trying to change their mind.\n\n### # Goal\nacknowledge their decision gracefully and end the conversation positively.\n\n### # Tone\nunderstanding and respectful. no pressure, no guilt. just accept their decision and move on gracefully.",
          "pathwayExamples": [],
          "dialogueExamples": [],
          "conditionExamples": []
        },
        "type": "Default",
        "position": {
          "x": 650,
          "y": 1100
        }
      },
      {
        "id": "already-refinanced",
        "data": {
          "name": "Already Refinanced",
          "prompt": "### # Background\nthe client has already refinanced elsewhere or completed this process. this is actually good news - it means they took action and got a better rate. we should congratulate them and update our system so we don't call about this again.\n\n### # Goal\ncongratulate them, let them know we'll update their file, and end positively.\n\n### # Tone\ngenuinely happy for them. celebrate their success even though it wasn't with your broker.",
          "pathwayExamples": [],
          "dialogueExamples": [],
          "conditionExamples": []
        },
        "type": "Default",
        "position": {
          "x": 1100,
          "y": 1100
        }
      },
      {
        "id": "client-end-call",
        "data": {
          "name": "End Call",
          "prompt": "### # Background\nthe conversation is complete. we've either scheduled a broker callback, the client wasn't interested, or they've already refinanced. time to end the call warmly.\n\n### # Goal\nend the call on a positive note.\n\n### # Tone\nwarm and friendly. leave them with a good impression.",
          "pathwayExamples": [],
          "dialogueExamples": [],
          "conditionExamples": []
        },
        "type": "End Call",
        "position": {
          "x": 650,
          "y": 1350
        }
      },
      {
        "globalConfig": {
          "globalPrompt": "# Background\nyou're making a friendly call to a homeowner about great news - their target refinance rate has been hit. this should feel like a neighbor calling with exciting news, not a sales call. the client set this rate target with their broker, so they're expecting this might happen eventually. your job is to share the good news, give them the numbers, and see if they want their broker to follow up.\n\n# Goal\nshare the rate news in a warm, conversational way and gauge their interest in moving forward.\n\n# Tone\nfriendly and natural, like talking to someone you know. be enthusiastic about the good news but not pushy. respect their time and decisions. if they're not interested, that's totally fine - just accept it gracefully. use their first name and speak conversationally. smile when you talk - they can hear it. be brief but warm."
        }
      }
    ],
    "edges": [
      {
        "id": "edge-greeting-to-availability",
        "data": {
          "label": "Greeting delivered",
          "isHighlighted": false
        },
        "type": "custom",
        "source": "client-greeting-001",
        "target": "availability-router-001"
      },
      {
        "id": "edge-available-to-news",
        "data": {
          "label": "Client is available",
          "condition": [
            {
              "field": "client_availability",
              "value": "yes",
              "operator": "contains"
            }
          ],
          "isHighlighted": false
        },
        "type": "custom",
        "source": "availability-router-001",
        "target": "share-good-news"
      },
      {
        "id": "edge-busy-to-callback",
        "data": {
          "label": "Client is busy",
          "condition": [
            {
              "field": "client_availability",
              "value": "busy",
              "operator": "contains"
            }
          ],
          "isHighlighted": false
        },
        "type": "custom",
        "source": "availability-router-001",
        "target": "callback-requested"
      },
      {
        "id": "edge-news-to-interest",
        "data": {
          "label": "Good news shared",
          "isHighlighted": false
        },
        "type": "custom",
        "source": "share-good-news",
        "target": "interest-router-001"
      },
      {
        "id": "edge-interested",
        "data": {
          "label": "Client is interested",
          "condition": [
            {
              "field": "client_interest",
              "value": "interested",
              "operator": "contains"
            }
          ],
          "isHighlighted": false
        },
        "type": "custom",
        "source": "interest-router-001",
        "target": "client-interested"
      },
      {
        "id": "edge-not-interested",
        "data": {
          "label": "Not interested",
          "condition": [
            {
              "field": "client_interest",
              "value": "not interested",
              "operator": "contains"
            }
          ],
          "isHighlighted": false
        },
        "type": "custom",
        "source": "interest-router-001",
        "target": "client-not-interested"
      },
      {
        "id": "edge-already-done",
        "data": {
          "label": "Already refinanced",
          "condition": [
            {
              "field": "client_interest",
              "value": "already",
              "operator": "contains"
            }
          ],
          "isHighlighted": false
        },
        "type": "custom",
        "source": "interest-router-001",
        "target": "already-refinanced"
      },
      {
        "id": "edge-interested-to-end",
        "data": {
          "label": "Call ended",
          "isHighlighted": false
        },
        "type": "custom",
        "source": "client-interested",
        "target": "client-end-call"
      },
      {
        "id": "edge-not-interested-to-end",
        "data": {
          "label": "Call ended",
          "isHighlighted": false
        },
        "type": "custom",
        "source": "client-not-interested",
        "target": "client-end-call"
      },
      {
        "id": "edge-already-to-end",
        "data": {
          "label": "Call ended",
          "isHighlighted": false
        },
        "type": "custom",
        "source": "already-refinanced",
        "target": "client-end-call"
      },
      {
        "id": "edge-callback-to-end",
        "data": {
          "label": "Callback scheduled",
          "isHighlighted": false
        },
        "type": "custom",
        "source": "callback-requested",
        "target": "client-end-call"
      }
    ]
  }