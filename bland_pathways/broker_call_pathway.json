{
  "nodes": [
    {
      "id": "broker-greeting-final",
      "data": {
        "name": "Broker Rate Alert",
        "prompt": "### # Background\nthis is a quick rate alert call to a mortgage broker. the broker is busy and values efficiency. they've set up alerts for when their clients hit target rates, and now one of their clients has hit that rate. we need to deliver the key information quickly: who hit their rate, what the numbers are, and what action they want to take. be direct, professional, and respectful of their time.\n\n### # Goal\ndeliver the rate alert, share the key numbers, ask for their decision on next steps, and extract their response.\n\n### # Tone\nprofessional and efficient. no small talk. get straight to the point. deliver info like a clear voicemail message - concise and complete.",
        "isStart": true,
        "extractVars": [
          [
            "broker_decision",
            "string",
            "The broker's response about how to proceed",
            false
          ]
        ],
        "pathwayExamples": [],
        "dialogueExamples": [],
        "conditionExamples": []
      },
      "type": "Default",
      "position": {
        "x": 940,
        "y": 100
      }
    },
    {
      "id": "decision-router-final",
      "data": {
        "name": "Decision Router"
      },
      "type": "Route",
      "position": {
        "x": 940,
        "y": 350
      }
    },
    {
      "id": "broker-will-call-final",
      "data": {
        "name": "Broker Will Call",
        "prompt": "### # Background\nthe broker has decided to handle this client personally. acknowledge their decision positively and end the call efficiently.\n\n### # Goal\nconfirm the broker will handle it personally, thank them, and end the call.\n\n### # Tone\npositive and professional. acknowledge briefly and wrap up quickly.",
        "pathwayExamples": [],
        "dialogueExamples": [],
        "conditionExamples": []
      },
      "type": "Default",
      "position": {
        "x": 200,
        "y": 600
      }
    },
    {
      "id": "proceed-with-client-final",
      "data": {
        "name": "Proceed With Client",
        "prompt": "### # Background\nthe broker has given us the green light to reach out to the client. confirm we understand and will handle it.\n\n### # Goal\nconfirm we'll call the client and end the call.\n\n### # Tone\nconfident and professional. reassure them we'll handle it well.",
        "pathwayExamples": [],
        "dialogueExamples": [],
        "conditionExamples": []
      },
      "type": "Default",
      "position": {
        "x": 650,
        "y": 600
      }
    },
    {
      "id": "not-interested-final",
      "data": {
        "name": "Not Interested",
        "prompt": "### # Background\nthe broker has indicated they don't want to pursue this lead. respect their decision without pushing back.\n\n### # Goal\nacknowledge their decision and end the call professionally.\n\n### # Tone\nrespectful and understanding. no questions asked.",
        "pathwayExamples": [],
        "dialogueExamples": [],
        "conditionExamples": []
      },
      "type": "Default",
      "position": {
        "x": 1150,
        "y": 600
      }
    },
    {
      "id": "data-issue-final",
      "data": {
        "name": "Data Issue",
        "prompt": "### # Background\nthe broker has pointed out that our information is incorrect. apologize and assure them we'll flag this for review.\n\n### # Goal\napologize for the error and confirm we'll review the data.\n\n### # Tone\napologetic but professional. be solution-focused.",
        "pathwayExamples": [],
        "dialogueExamples": [],
        "conditionExamples": []
      },
      "type": "Default",
      "position": {
        "x": 1650,
        "y": 600
      }
    },
    {
      "id": "end-call-final",
      "data": {
        "name": "End Call",
        "prompt": "### # Background\nthe call is complete. time to end professionally.\n\n### # Goal\nend the call courteously.\n\n### # Tone\nbrief and professional.",
        "pathwayExamples": [],
        "dialogueExamples": [],
        "conditionExamples": []
      },
      "type": "End Call",
      "position": {
        "x": 940,
        "y": 850
      }
    },
    {
      "globalConfig": {
        "globalPrompt": "# Background\nyou're an AI assistant making quick, professional rate alert calls to mortgage brokers. your job is to deliver information efficiently and get a decision. brokers are busy professionals who value their time, so every word counts. be direct, clear, and professional. avoid small talk, filler words, and unnecessary explanations.\n\n# Goal\ndeliver rate alert information and get a clear decision from the broker in under 90 seconds.\n\n# Tone\nprofessional and efficient. speak naturally but concisely. no corporate jargon. be respectful of their time and expertise. when the broker makes a decision, acknowledge it and move on quickly."
      }
    }
  ],
  "edges": [
    {
      "id": "edge-greeting-to-router-final",
      "data": {
        "label": "Information delivered and response received",
        "isHighlighted": false
      },
      "type": "custom",
      "source": "broker-greeting-final",
      "target": "decision-router-final"
    },
    {
      "id": "edge-router-to-broker-call-final",
      "data": {
        "label": "Broker will call personally",
        "condition": [
          {
            "field": "broker_decision",
            "value": "personally",
            "operator": "contains"
          }
        ],
        "isHighlighted": false
      },
      "type": "custom",
      "source": "decision-router-final",
      "target": "broker-will-call-final"
    },
    {
      "id": "edge-router-to-proceed-final",
      "data": {
        "label": "Proceed with client call",
        "condition": [
          {
            "field": "broker_decision",
            "value": "please call",
            "operator": "contains"
          }
        ],
        "isHighlighted": false
      },
      "type": "custom",
      "source": "decision-router-final",
      "target": "proceed-with-client-final"
    },
    {
      "id": "edge-router-to-not-interested-final",
      "data": {
        "label": "Not interested",
        "condition": [
          {
            "field": "broker_decision",
            "value": "not interested",
            "operator": "contains"
          }
        ],
        "isHighlighted": false
      },
      "type": "custom",
      "source": "decision-router-final",
      "target": "not-interested-final"
    },
    {
      "id": "edge-router-to-data-issue-final",
      "data": {
        "label": "Data issue reported",
        "condition": [
          {
            "field": "broker_decision",
            "value": "wrong",
            "operator": "contains"
          }
        ],
        "isHighlighted": false
      },
      "type": "custom",
      "source": "decision-router-final",
      "target": "data-issue-final"
    },
    {
      "id": "edge-broker-call-to-end-final",
      "data": {
        "label": "Call concluded",
        "isHighlighted": false
      },
      "type": "custom",
      "source": "broker-will-call-final",
      "target": "end-call-final"
    },
    {
      "id": "edge-proceed-to-end-final",
      "data": {
        "label": "Call concluded",
        "isHighlighted": false
      },
      "type": "custom",
      "source": "proceed-with-client-final",
      "target": "end-call-final"
    },
    {
      "id": "edge-not-interested-to-end-final",
      "data": {
        "label": "Call concluded",
        "isHighlighted": false
      },
      "type": "custom",
      "source": "not-interested-final",
      "target": "end-call-final"
    },
    {
      "id": "edge-data-issue-to-end-final",
      "data": {
        "label": "Call concluded",
        "isHighlighted": false
      },
      "type": "custom",
      "source": "data-issue-final",
      "target": "end-call-final"
    }
  ]
}